<section>


 <!-- <button mat-raised-button (click)="filter()">filter</button> -->
<div class="jobs_map_grid">
    <div class="wrapper job_cards_grid2" [ngClass]="{'hide':details|| showMap}" >
      <span *ngIf="isLoading$ |async">Loading...</span>
        <job_card 
            *ngFor="let job of (activeJobs$ | async); let i=index"        
            [job]="job"
            [jobsApplied]="hero.JobApplIds"
            (apply)="handleApply($event)"
            (share)="handleShare($event)"
            (details)="showDetails($event)"
            (mouseover)="selected(i)"
            (mouseout)="deselected(i)">   
        </job_card>
    </div>
 

    <div>
        <div class="jobs-actionbar">
            <button class="toggle-map-btn" mat-raised-button (click)="toggleMap()">
                <span *ngIf="showMap">Hide Map</span>
                <span *ngIf="!showMap">Show Map</span>
            </button>

        </div>
        <div class="big-card" *ngIf="details">
                <job 
                [job]="details"
                (close)="handleClose()"        
                ></job>
        </div>
        <jobs_map class="map show" *ngIf="showMap" 
            [activejobs]="(activeJobs$ | async)"
            [opacity]="opacity"
            (highlight)=selected($event)>
        </jobs_map>
    </div>

</div>
{{activePage$ | async}}
<!-- <button (click)="prevPage()" [disabled]='!page > 0'>previous</button>

        <span>{{page+1}} / {{totalPage}}</span>
        <button (click)="nextPage()"
        [disabled]="page === totalPage -1">next</button> -->
<div class="action_bar">

        <img class="showmap" (click)="toggleMap()" src="../../../../../assets/map.svg">
        <img class="showmap"  src="../../../../../assets/filter.svg">
        <img class="showmap"  src="../../../../../assets/calendar.svg">

 
</div>
</section>
